import{t as h}from"./utils.18ab1466.js";import{r as n}from"./index.03be2d59.js";import{K as j,L as p,E as f,g as b}from"./error.d41e34a3.js";import{E as g,D as N}from"./crud.7a7119c4.js";import{j as e}from"./jsx-runtime.b9e88e07.js";import{i}from"./menu.c39a2989.js";import{M as w}from"./streamdal.d1597ee0.js";const y=({id:s})=>e.jsxs(i,{as:"div",className:"text-right align-text-bottom pt-[6px] relative",children:[e.jsx("div",{children:e.jsx(i.Button,{children:e.jsx(j,{className:"hover:text-shadow h-[20px]","aria-hidden":"true"})})}),e.jsxs(i.Items,{className:"absolute z-[100] right-0 mt-2 mr-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none opacity-100",children:[e.jsx("div",{className:"p-2 pb-1",children:e.jsx(i.Item,{children:({active:t})=>e.jsx("a",{href:`/ruleset?id=${s}`,children:e.jsxs("button",{className:`${t?"bg-sunset":""} group flex w-full items-center rounded-md px-2 py-2 text-sm`,children:[e.jsx(g,{className:"mr-2 text-web","aria-hidden":"true"}),"View/Edit"]})})})}),e.jsx("div",{className:"p-2 pt-1",children:e.jsx(i.Item,{children:({active:t})=>e.jsx("a",{href:`/ruleset/delete/?id=${s}`,children:e.jsxs("button",{className:`${t?"bg-eyelid text-white":"text-eyelid"} group flex w-full items-center rounded-md px-2 py-2 text-sm`,children:[e.jsx(N,{className:"mr-2",fill:t?"white":"#FF7D68","aria-hidden":"true"}),"Delete"]})})})})]})]}),v="There was a problem loading Rulesets",l=({children:s,className:t})=>e.jsx("th",{className:`text-xs-[12px] font-medium leading-[18px] text-left pb-3 ${t}`,children:s}),a=({children:s,className:t})=>e.jsx("td",{className:`text-xs-[14px] font-medium leading-[18px] text-left pb-5 ${t}`,children:s}),E=s=>h(s.substring(10)),T=()=>{const[s,t]=n.useState(null),[d,x]=n.useState(!0),[c,o]=n.useState(!1),m=async()=>{try{t(await b("/v1/ruleset"))}catch{o(!0)}x(!1)};return n.useEffect(()=>{m()},[]),d?e.jsx(p,{}):c?e.jsx(f,{error:v}):e.jsxs("div",{className:"max-w-[1440px]",children:[e.jsxs("div",{className:"flex flex-row justify-start align-middle pb-4 mb-4 font-bold text-lg leading-5 border-b",children:[e.jsx(w,{className:"mr-2 w-[14px]"}),e.jsx("span",{className:"text-web",children:"Rule sets"})]}),e.jsxs("table",{className:"table-auto border-collapse w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-spacing-6",children:[e.jsx(l,{children:"Name"}),e.jsx(l,{children:"Mode"}),e.jsx(l,{children:"Data Source"}),e.jsx(l,{children:"Key"}),e.jsx(l,{className:"text-center",children:"Version"}),e.jsx(l,{})]})}),e.jsx("tbody",{children:Object.values(s)?.map((r,u)=>e.jsxs("tr",{children:[e.jsx(a,{children:e.jsx("a",{href:`/ruleset?id=${r.id}`,children:r.name})}),e.jsx(a,{children:E(r.mode)}),e.jsx(a,{children:r.data_source}),e.jsx(a,{children:r.key}),e.jsx(a,{className:"text-center",children:r.version}),e.jsx(a,{children:e.jsx(y,{id:r.id})})]},`ruleset-table-${u}`))})]}),e.jsx("div",{className:"w-full mt-4 flex justify-end",children:e.jsx("a",{href:"/ruleset",children:e.jsx("input",{type:"button",className:"flex justify-center btn-heimdal",value:"Add Rule Set"})})})]})};export{T as RuleSets};
