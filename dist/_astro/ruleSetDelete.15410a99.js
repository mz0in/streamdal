import{r as s}from"./index.03be2d59.js";import{L as d,E as x,g as u}from"./error.d41e34a3.js";import{D as f}from"./crud.7a7119c4.js";import{m as h}from"./success.195e3d70.js";import{R as p}from"./rulesetAddEdit.82bca9cf.js";import{j as e}from"./jsx-runtime.b9e88e07.js";import"./streamdal.d1597ee0.js";import"./utils.18ab1466.js";const j="There was a problem deleting the ruleset!",S=()=>{const[i,m]=s.useState(null),[n,t]=s.useState(!0),[l,a]=s.useState(""),r=new URLSearchParams(document.location.search).get("id"),o=async()=>{try{m(await u(`/v1/ruleset/${r}`))}catch{a(p)}t(!1)},c=async()=>{try{await h({method:"DELETE",apiPath:`/v1/ruleset/${r}`}),window.location.href="/"}catch{a(j)}t(!1)};return s.useEffect(()=>{if(t(!0),!r){t(!1),a("Ruleset ID param is required");return}o()},[]),n?e.jsx(d,{}):l?e.jsx(x,{error:l}):e.jsxs("div",{className:"relative z-10","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),e.jsx("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:e.jsxs("div",{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg",children:[e.jsx("div",{className:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4",children:e.jsxs("div",{className:"sm:flex sm:items-start",children:[e.jsx("div",{className:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:e.jsx(f,{fill:"#FF7D68","aria-hidden":"true"})}),e.jsxs("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left",children:[e.jsx("h3",{className:"text-base font-semibold leading-6 text-gray-900",id:"modal-title",children:"Delete Ruleset"}),e.jsx("div",{className:"mt-2",children:e.jsxs("p",{className:"text-sm text-gray-500",children:["Are you sure you want to delete ruleset"," ",e.jsx("span",{className:"font-bold",children:i?.name}),"?"]})})]})]})}),e.jsxs("div",{className:"px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",children:[e.jsx("button",{type:"button",className:"ml-2 btn-delete",onClick:()=>c(),children:"Delete"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>window.history.back(),children:"Cancel"})]})]})})})]})};export{S as RuleSetDelete};
