import{r as l}from"./index.03be2d59.js";import{j as e,L as m,E as j,g as x}from"./error.76753ac1.js";import{M as p}from"./streamdal.8a6e1b11.js";const b=({config:s})=>e.jsx("div",{children:e.jsx("span",{className:"bg-sunset p-1 my-2",children:s})}),y=({config:s})=>e.jsx("div",{className:"flex flex-col w-full ml-2 mb-4",children:Array.isArray(s)?s.map((t,a)=>e.jsx(i,{config:t},`rule-config-key-${a}`)):Object.keys(s).map((t,a)=>e.jsxs("div",{className:`flex ${typeof s[t]=="object"?"flex-col":"flex-row"} `,children:[e.jsxs("div",{className:`text-stormCloud text-xs-[14px] mb-2 mr-2 ${typeof s[t]=="object"?"font-bold":"font-semibold"}`,children:[t,":"]}),e.jsx(i,{config:s[t]})]},`config-entry-key-${a}`))}),i=({config:s})=>typeof s=="object"?e.jsx(y,{config:s}):e.jsx(b,{config:s}),h="Ruleset not found!",N=()=>{const[s,t]=l.useState(null),[a,c]=l.useState(!0),[d,u]=l.useState(!1),o=new URLSearchParams(document.location.search).get("id"),f=async()=>{if(!o){console.error("ruleset id param is required"),c(!1);return}try{const r=await x(`/v1/ruleset/${o}`),n=await x(`/v1/ruleset/${o}/rules`);t({...r,rules:n})}catch{u(!0)}c(!1)};return l.useEffect(()=>{f()},[]),a?e.jsx(m,{}):d?e.jsx(j,{error:h}):e.jsxs("div",{className:"max-w-[1440px]",children:[e.jsxs("div",{className:"flex flex-row justify-between align-middle pb-4 border-b",children:[e.jsxs("div",{className:"flex flex-row justify-start font-bold text-lg leading-5",children:[e.jsx(p,{className:"mr-2 w-[14px]"}),e.jsxs("span",{className:"text-web",children:["Rule set - ",s?.name]})]}),e.jsx("div",{className:"flex flex-row justify-end",children:e.jsx("span",{className:"text-web",children:s?.bus})})]}),e.jsx("div",{className:"pt-4 flex flex-col",children:Object.values(s?.rules)?.map((r,n)=>e.jsx(i,{config:{"Rule Config":r.RuleConfig,"Failure Mode Config":r.FailureModeConfig}},`rule-detail-${n}`))})]})};export{h as R,N as a};
