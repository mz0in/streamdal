import{t as ve}from"./utils.18ab1466.js";import{r as s,R as M}from"./index.03be2d59.js";import{j as a,K as he,L as xe,E as ge,g as be}from"./error.76753ac1.js";import{E as ye,D as Ee}from"./crud.c1c507e9.js";import{M as we}from"./streamdal.8a6e1b11.js";var Ie=Object.defineProperty,Se=(e,t,n)=>t in e?Ie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,K=(e,t,n)=>(Se(e,typeof t!="symbol"?t+"":t,n),n);let je=class{constructor(){K(this,"current",this.detect()),K(this,"handoffState","pending"),K(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},R=new je,S=(e,t)=>{R.isServer?s.useEffect(e,t):s.useLayoutEffect(e,t)};function z(e){let t=s.useRef(e);return S(()=>{t.current=e},[e]),t}function Ne(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function D(){let e=[],t={addEventListener(n,r,i,u){return n.addEventListener(r,i,u),t.add(()=>n.removeEventListener(r,i,u))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Ne(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,i){let u=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:u})})},group(n){let r=D();return n(r),this.add(()=>r.dispose())},add(n){return e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let i of e.splice(r,1))i()}},dispose(){for(let n of e.splice(0))n()}};return t}function ce(){let[e]=s.useState(D);return s.useEffect(()=>()=>e.dispose(),[e]),e}let E=function(e){let t=z(e);return M.useCallback((...n)=>t.current(...n),[t])};function Re(){let[e,t]=s.useState(R.isHandoffComplete);return e&&R.isHandoffComplete===!1&&t(!1),s.useEffect(()=>{e!==!0&&t(!0)},[e]),s.useEffect(()=>R.handoff(),[]),e}var ne;let X=(ne=M.useId)!=null?ne:function(){let e=Re(),[t,n]=M.useState(e?()=>R.nextId():null);return S(()=>{t===null&&n(R.nextId())},[t]),t!=null?""+t:void 0};function $(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,$),r}function k(e){return R.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let Q=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var W=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(W||{}),Fe=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Fe||{}),Me=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Me||{});function de(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Q)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var J=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(J||{});function Y(e,t=0){var n;return e===((n=k(e))==null?void 0:n.body)?!1:$(t,{[0](){return e.matches(Q)},[1](){let r=e;for(;r!==null;){if(r.matches(Q))return!0;r=r.parentElement}return!1}})}function fe(e){let t=k(e);D().nextFrame(()=>{t&&!Y(t.activeElement,0)&&Pe(e)})}var De=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(De||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Pe(e){e?.focus({preventScroll:!0})}let Te=["textarea","input"].join(",");function $e(e){var t,n;return(n=(t=e?.matches)==null?void 0:t.call(e,Te))!=null?n:!1}function me(e,t=n=>n){return e.slice().sort((n,r)=>{let i=t(n),u=t(r);if(i===null||u===null)return 0;let o=i.compareDocumentPosition(u);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Ae(e,t){return Oe(de(),t,{relativeTo:e})}function Oe(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let u=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?n?me(e):e:de(e);i.length>0&&o.length>1&&(o=o.filter(h=>!i.includes(h))),r=r??u.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(r))-1;if(t&4)return Math.max(0,o.indexOf(r))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),m=t&32?{preventScroll:!0}:{},p=0,d=o.length,v;do{if(p>=d||p+d<=0)return 0;let h=c+p;if(t&16)h=(h+d)%d;else{if(h<0)return 3;if(h>=d)return 1}v=o[h],v?.focus(m),p+=l}while(v!==u.activeElement);return t&6&&$e(v)&&v.select(),2}function re(e,t,n){let r=z(t);s.useEffect(()=>{function i(u){r.current(u)}return document.addEventListener(e,i,n),()=>document.removeEventListener(e,i,n)},[e,n])}function Le(e,t,n){let r=z(t);s.useEffect(()=>{function i(u){r.current(u)}return window.addEventListener(e,i,n),()=>window.removeEventListener(e,i,n)},[e,n])}function ke(e,t,n=!0){let r=s.useRef(!1);s.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function i(o,l){if(!r.current||o.defaultPrevented)return;let c=l(o);if(c===null||!c.getRootNode().contains(c))return;let m=function p(d){return typeof d=="function"?p(d()):Array.isArray(d)||d instanceof Set?d:[d]}(e);for(let p of m){if(p===null)continue;let d=p instanceof HTMLElement?p:p.current;if(d!=null&&d.contains(c)||o.composed&&o.composedPath().includes(d))return}return!Y(c,J.Loose)&&c.tabIndex!==-1&&o.preventDefault(),t(o,c)}let u=s.useRef(null);re("mousedown",o=>{var l,c;r.current&&(u.current=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),re("click",o=>{u.current&&(i(o,()=>u.current),u.current=null)},!0),Le("blur",o=>i(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function ie(e){var t;if(e.type)return e.type;let n=(t=e.as)!=null?t:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function Ce(e,t){let[n,r]=s.useState(()=>ie(e));return S(()=>{r(ie(e))},[e.type,e.as]),S(()=>{n||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&r("button")},[n,t]),n}let _e=Symbol();function C(...e){let t=s.useRef(e);s.useEffect(()=>{t.current=e},[e]);let n=E(r=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return e.every(r=>r==null||r?.[_e])?void 0:n}function He({container:e,accept:t,walk:n,enabled:r=!0}){let i=s.useRef(t),u=s.useRef(n);s.useEffect(()=>{i.current=t,u.current=n},[t,n]),S(()=>{if(!e||!r)return;let o=k(e);if(!o)return;let l=i.current,c=u.current,m=Object.assign(d=>l(d),{acceptNode:l}),p=o.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,m,!1);for(;p.nextNode();)c(p.currentNode)},[e,r,i,u])}function Ue(e){throw new Error("Unexpected object: "+e)}var w=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(w||{});function Be(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),i=r??-1,u=(()=>{switch(e.focus){case 0:return n.findIndex(o=>!t.resolveDisabled(o));case 1:{let o=n.slice().reverse().findIndex((l,c,m)=>i!==-1&&m.length-c-1>=i?!1:!t.resolveDisabled(l));return o===-1?o:n.length-1-o}case 2:return n.findIndex((o,l)=>l<=i?!1:!t.resolveDisabled(o));case 3:{let o=n.slice().reverse().findIndex(l=>!t.resolveDisabled(l));return o===-1?o:n.length-1-o}case 4:return n.findIndex(o=>t.resolveId(o)===e.id);case 5:return null;default:Ue(e)}})();return u===-1?r:u}function oe(...e){return e.filter(Boolean).join(" ")}var G=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(G||{}),Ke=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Ke||{});function _({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:i,visible:u=!0,name:o}){let l=pe(t,e);if(u)return L(l,n,r,o);let c=i??0;if(c&2){let{static:m=!1,...p}=l;if(m)return L(p,n,r,o)}if(c&1){let{unmount:m=!0,...p}=l;return $(m?0:1,{[0](){return null},[1](){return L({...p,hidden:!0,style:{display:"none"}},n,r,o)}})}return L(l,n,r,o)}function L(e,t={},n,r){let{as:i=n,children:u,refName:o="ref",...l}=q(e,["unmount","static"]),c=e.ref!==void 0?{[o]:e.ref}:{},m=typeof u=="function"?u(t):u;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(t));let p={};if(t){let d=!1,v=[];for(let[h,b]of Object.entries(t))typeof b=="boolean"&&(d=!0),b===!0&&v.push(h);d&&(p["data-headlessui-state"]=v.join(" "))}if(i===s.Fragment&&Object.keys(le(l)).length>0){if(!s.isValidElement(m)||Array.isArray(m)&&m.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(l).map(b=>`  - ${b}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(b=>`  - ${b}`).join(`
`)].join(`
`));let d=m.props,v=typeof d?.className=="function"?(...b)=>oe(d?.className(...b),l.className):oe(d?.className,l.className),h=v?{className:v}:{};return s.cloneElement(m,Object.assign({},pe(m.props,le(q(l,["ref"]))),p,c,qe(m.ref,c.ref),h))}return s.createElement(i,Object.assign({},q(l,["ref"]),i!==s.Fragment&&c,i!==s.Fragment&&p),m)}function qe(...e){return{ref:e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}}function pe(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(t,{[r](i,...u){let o=n[r];for(let l of o){if((i instanceof Event||i?.nativeEvent instanceof Event)&&i.defaultPrevented)return;l(i,...u)}}});return t}function H(e){var t;return Object.assign(s.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function le(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function q(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function Ve(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=t?.getAttribute("disabled")==="";return r&&Qe(n)?!1:r}function Qe(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}let Z=s.createContext(null);Z.displayName="OpenClosedContext";var T=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(T||{});function We(){return s.useContext(Z)}function Ge({value:e,children:t}){return M.createElement(Z.Provider,{value:e},t)}var g=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(g||{});function ue(e){return[e.screenX,e.screenY]}function ze(){let e=s.useRef([-1,-1]);return{wasMoved(t){let n=ue(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=ue(t)}}}function Xe(...e){return s.useMemo(()=>k(...e),[...e])}let se=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function ae(e){var t,n;let r=(t=e.innerText)!=null?t:"",i=e.cloneNode(!0);if(!(i instanceof HTMLElement))return r;let u=!1;for(let l of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))l.remove(),u=!0;let o=u?(n=i.innerText)!=null?n:"":r;return se.test(o)&&(o=o.replace(se,"")),o}function Je(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let u=document.getElementById(i);if(u){let o=u.getAttribute("aria-label");return typeof o=="string"?o.trim():ae(u).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return ae(e).trim()}function Ye(e){let t=s.useRef(""),n=s.useRef("");return E(()=>{let r=e.current;if(!r)return"";let i=r.innerText;if(t.current===i)return n.current;let u=Je(r).trim().toLowerCase();return t.current=i,n.current=u,u})}var Ze=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ze||{}),et=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(et||{}),tt=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e))(tt||{});function V(e,t=n=>n){let n=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,r=me(t(e.items.slice()),u=>u.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{items:r,activeItemIndex:i}}let nt={[1](e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},[0](e){return e.menuState===0?e:{...e,__demoMode:!1,menuState:0}},[2]:(e,t)=>{var n;let r=V(e),i=Be(t,{resolveItems:()=>r.items,resolveActiveIndex:()=>r.activeItemIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeItemIndex:i,activationTrigger:(n=t.trigger)!=null?n:1}},[3]:(e,t)=>{let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),i=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find(o=>{var l;return((l=o.dataRef.current.textValue)==null?void 0:l.startsWith(r))&&!o.dataRef.current.disabled}),u=i?e.items.indexOf(i):-1;return u===-1||u===e.activeItemIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeItemIndex:u,activationTrigger:1}},[4](e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},[5]:(e,t)=>{let n=V(e,r=>[...r,{id:t.id,dataRef:t.dataRef}]);return{...e,...n}},[6]:(e,t)=>{let n=V(e,r=>{let i=r.findIndex(u=>u.id===t.id);return i!==-1&&r.splice(i,1),r});return{...e,...n,activationTrigger:1}}},ee=s.createContext(null);ee.displayName="MenuContext";function U(e){let t=s.useContext(ee);if(t===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,U),n}return t}function rt(e,t){return $(t.type,nt,e,t)}let it=s.Fragment;function ot(e,t){let{__demoMode:n=!1,...r}=e,i=s.useReducer(rt,{__demoMode:n,menuState:n?0:1,buttonRef:s.createRef(),itemsRef:s.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:u,itemsRef:o,buttonRef:l},c]=i,m=C(t);ke([l,o],(h,b)=>{var x;c({type:1}),Y(b,J.Loose)||(h.preventDefault(),(x=l.current)==null||x.focus())},u===0);let p=E(()=>{c({type:1})}),d=s.useMemo(()=>({open:u===0,close:p}),[u,p]),v={ref:m};return M.createElement(ee.Provider,{value:i},M.createElement(Ge,{value:$(u,{[0]:T.Open,[1]:T.Closed})},_({ourProps:v,theirProps:r,slot:d,defaultTag:it,name:"Menu"})))}let lt="button";function ut(e,t){var n;let r=X(),{id:i=`headlessui-menu-button-${r}`,...u}=e,[o,l]=U("Menu.Button"),c=C(o.buttonRef,t),m=ce(),p=E(x=>{switch(x.key){case g.Space:case g.Enter:case g.ArrowDown:x.preventDefault(),x.stopPropagation(),l({type:0}),m.nextFrame(()=>l({type:2,focus:w.First}));break;case g.ArrowUp:x.preventDefault(),x.stopPropagation(),l({type:0}),m.nextFrame(()=>l({type:2,focus:w.Last}));break}}),d=E(x=>{switch(x.key){case g.Space:x.preventDefault();break}}),v=E(x=>{if(Ve(x.currentTarget))return x.preventDefault();e.disabled||(o.menuState===0?(l({type:1}),m.nextFrame(()=>{var I;return(I=o.buttonRef.current)==null?void 0:I.focus({preventScroll:!0})})):(x.preventDefault(),l({type:0})))}),h=s.useMemo(()=>({open:o.menuState===0}),[o]),b={ref:c,id:i,type:Ce(e,o.buttonRef),"aria-haspopup":"menu","aria-controls":(n=o.itemsRef.current)==null?void 0:n.id,"aria-expanded":e.disabled?void 0:o.menuState===0,onKeyDown:p,onKeyUp:d,onClick:v};return _({ourProps:b,theirProps:u,slot:h,defaultTag:lt,name:"Menu.Button"})}let st="div",at=G.RenderStrategy|G.Static;function ct(e,t){var n,r;let i=X(),{id:u=`headlessui-menu-items-${i}`,...o}=e,[l,c]=U("Menu.Items"),m=C(l.itemsRef,t),p=Xe(l.itemsRef),d=ce(),v=We(),h=(()=>v!==null?(v&T.Open)===T.Open:l.menuState===0)();s.useEffect(()=>{let f=l.itemsRef.current;f&&l.menuState===0&&f!==p?.activeElement&&f.focus({preventScroll:!0})},[l.menuState,l.itemsRef,p]),He({container:l.itemsRef.current,enabled:l.menuState===0,accept(f){return f.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:f.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(f){f.setAttribute("role","none")}});let b=E(f=>{var P,O;switch(d.dispose(),f.key){case g.Space:if(l.searchQuery!=="")return f.preventDefault(),f.stopPropagation(),c({type:3,value:f.key});case g.Enter:if(f.preventDefault(),f.stopPropagation(),c({type:1}),l.activeItemIndex!==null){let{dataRef:y}=l.items[l.activeItemIndex];(O=(P=y.current)==null?void 0:P.domRef.current)==null||O.click()}fe(l.buttonRef.current);break;case g.ArrowDown:return f.preventDefault(),f.stopPropagation(),c({type:2,focus:w.Next});case g.ArrowUp:return f.preventDefault(),f.stopPropagation(),c({type:2,focus:w.Previous});case g.Home:case g.PageUp:return f.preventDefault(),f.stopPropagation(),c({type:2,focus:w.First});case g.End:case g.PageDown:return f.preventDefault(),f.stopPropagation(),c({type:2,focus:w.Last});case g.Escape:f.preventDefault(),f.stopPropagation(),c({type:1}),D().nextFrame(()=>{var y;return(y=l.buttonRef.current)==null?void 0:y.focus({preventScroll:!0})});break;case g.Tab:f.preventDefault(),f.stopPropagation(),c({type:1}),D().nextFrame(()=>{Ae(l.buttonRef.current,f.shiftKey?W.Previous:W.Next)});break;default:f.key.length===1&&(c({type:3,value:f.key}),d.setTimeout(()=>c({type:4}),350));break}}),x=E(f=>{switch(f.key){case g.Space:f.preventDefault();break}}),I=s.useMemo(()=>({open:l.menuState===0}),[l]),A={"aria-activedescendant":l.activeItemIndex===null||(n=l.items[l.activeItemIndex])==null?void 0:n.id,"aria-labelledby":(r=l.buttonRef.current)==null?void 0:r.id,id:u,onKeyDown:b,onKeyUp:x,role:"menu",tabIndex:0,ref:m};return _({ourProps:A,theirProps:o,slot:I,defaultTag:st,features:at,visible:h,name:"Menu.Items"})}let dt=s.Fragment;function ft(e,t){let n=X(),{id:r=`headlessui-menu-item-${n}`,disabled:i=!1,...u}=e,[o,l]=U("Menu.Item"),c=o.activeItemIndex!==null?o.items[o.activeItemIndex].id===r:!1,m=s.useRef(null),p=C(t,m);S(()=>{if(o.__demoMode||o.menuState!==0||!c||o.activationTrigger===0)return;let y=D();return y.requestAnimationFrame(()=>{var B,te;(te=(B=m.current)==null?void 0:B.scrollIntoView)==null||te.call(B,{block:"nearest"})}),y.dispose},[o.__demoMode,m,c,o.menuState,o.activationTrigger,o.activeItemIndex]);let d=Ye(m),v=s.useRef({disabled:i,domRef:m,get textValue(){return d()}});S(()=>{v.current.disabled=i},[v,i]),S(()=>(l({type:5,id:r,dataRef:v}),()=>l({type:6,id:r})),[v,r]);let h=E(()=>{l({type:1})}),b=E(y=>{if(i)return y.preventDefault();l({type:1}),fe(o.buttonRef.current)}),x=E(()=>{if(i)return l({type:2,focus:w.Nothing});l({type:2,focus:w.Specific,id:r})}),I=ze(),A=E(y=>I.update(y)),f=E(y=>{I.wasMoved(y)&&(i||c||l({type:2,focus:w.Specific,id:r,trigger:0}))}),P=E(y=>{I.wasMoved(y)&&(i||c&&l({type:2,focus:w.Nothing}))}),O=s.useMemo(()=>({active:c,disabled:i,close:h}),[c,i,h]);return _({ourProps:{id:r,ref:p,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,disabled:void 0,onClick:b,onFocus:x,onPointerEnter:A,onMouseEnter:A,onPointerMove:f,onMouseMove:f,onPointerLeave:P,onMouseLeave:P},theirProps:u,slot:O,defaultTag:dt,name:"Menu.Item"})}let mt=H(ot),pt=H(ut),vt=H(ct),ht=H(ft),F=Object.assign(mt,{Button:pt,Items:vt,Item:ht});function xt({title:e,titleId:t,...n},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{d:"M10 12.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"}),s.createElement("path",{fillRule:"evenodd",d:"M.664 10.59a1.651 1.651 0 010-1.186A10.004 10.004 0 0110 3c4.257 0 7.893 2.66 9.336 6.41.147.381.146.804 0 1.186A10.004 10.004 0 0110 17c-4.257 0-7.893-2.66-9.336-6.41zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"}))}const gt=s.forwardRef(xt),bt=gt,yt=({id:e})=>a.jsxs(F,{as:"div",className:"text-right align-text-bottom pt-[6px] relative",children:[a.jsx("div",{children:a.jsx(F.Button,{children:a.jsx(he,{className:"hover:text-shadow h-[20px]","aria-hidden":"true"})})}),a.jsxs(F.Items,{className:"absolute z-[100] right-0 mt-2 mr-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none opacity-100",children:[a.jsx("div",{className:"p-2 pb-1",children:a.jsx(F.Item,{children:({active:t})=>a.jsx("a",{href:`/ruleset/?id=${e}`,children:a.jsxs("button",{className:`${t?"bg-sunset":""} group flex w-full items-center rounded-md px-2 py-2 text-sm`,children:[a.jsx(bt,{className:"mr-2 text-web w-[14px]","aria-hidden":"true"}),"View"]})})})}),a.jsx("div",{className:"p-2 pb-1",children:a.jsx(F.Item,{children:({active:t})=>a.jsxs("button",{className:`${t?"bg-sunset":""} group flex w-full items-center rounded-md px-2 py-2 text-sm cursor-not-allowed`,children:[a.jsx(ye,{className:"mr-2 text-web","aria-hidden":"true"}),"Edit"]})})}),a.jsx("div",{className:"p-2 pt-1",children:a.jsx(F.Item,{children:({active:t})=>a.jsx("a",{href:`/ruleset/delete/?id=${e}`,children:a.jsxs("button",{className:`${t?"bg-eyelid text-white":"text-eyelid"} group flex w-full items-center rounded-md px-2 py-2 text-sm`,children:[a.jsx(Ee,{className:"mr-2",fill:t?"white":"#FF7D68","aria-hidden":"true"}),"Delete"]})})})})]})]}),Et="There was a problem loading Rulesets",j=({children:e,className:t})=>a.jsx("th",{className:`text-xs-[12px] font-medium leading-[18px] text-left pb-3 ${t}`,children:e}),N=({children:e,className:t})=>a.jsx("td",{className:`text-xs-[14px] font-medium leading-[18px] text-left pb-5 ${t}`,children:e}),wt=e=>ve(e.substring(10)),Mt=()=>{const[e,t]=s.useState(null),[n,r]=s.useState(!0),[i,u]=s.useState(!1),o=async()=>{try{t(await be("/v1/ruleset"))}catch{u(!0)}r(!1)};return s.useEffect(()=>{o()},[]),n?a.jsx(xe,{}):i?a.jsx(ge,{error:Et}):a.jsxs("div",{className:"max-w-[1440px]",children:[a.jsxs("div",{className:"flex flex-row justify-start align-middle pb-4 mb-4 font-bold text-lg leading-5 border-b",children:[a.jsx(we,{className:"mr-2 w-[14px]"}),a.jsx("span",{className:"text-web",children:"Rule sets"})]}),a.jsxs("table",{className:"table-auto border-collapse w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-spacing-6",children:[a.jsx(j,{children:"Name"}),a.jsx(j,{children:"Mode"}),a.jsx(j,{children:"Bus"}),a.jsx(j,{children:"Key"}),a.jsx(j,{children:"Rules"}),a.jsx(j,{className:"text-center",children:"Version"}),a.jsx(j,{})]})}),a.jsx("tbody",{children:Object.values(e)?.map((l,c)=>a.jsxs("tr",{children:[a.jsx(N,{children:a.jsx("a",{href:`/ruleset/?id=${l.id}`,children:l.name})}),a.jsx(N,{children:wt(l.mode)}),a.jsx(N,{children:l.bus}),a.jsx(N,{children:l.key}),a.jsx(N,{children:"...coming soon..."}),a.jsx(N,{className:"text-center",children:l.version}),a.jsx(N,{children:a.jsx(yt,{id:l.id})})]},`ruleset-table-${c}`))})]}),a.jsx("div",{className:"w-full mt-4 flex justify-end",children:a.jsx("a",{href:"/ruleset/add",children:a.jsx("input",{type:"button",className:"flex justify-center btn-heimdal",value:"Add Rule Set"})})})]})};export{Mt as RuleSets};
