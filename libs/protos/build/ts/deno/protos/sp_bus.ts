// @generated by protobuf-ts 2.9.0 with parameter long_type_string
// @generated from protobuf file "sp_bus.proto" (package "protos", syntax proto3)
// tslint:disable
import type { BinaryWriteOptions } from "@protobuf-ts/runtime";
import type { IBinaryWriter } from "@protobuf-ts/runtime";
import { WireType } from "@protobuf-ts/runtime";
import type { BinaryReadOptions } from "@protobuf-ts/runtime";
import type { IBinaryReader } from "@protobuf-ts/runtime";
import { UnknownFieldHandler } from "@protobuf-ts/runtime";
import type { PartialMessage } from "@protobuf-ts/runtime";
import { reflectionMergePartial } from "@protobuf-ts/runtime";
import { MESSAGE_TYPE } from "@protobuf-ts/runtime";
import { MessageType } from "@protobuf-ts/runtime";
import { SetPipelinesRequest } from "./sp_external.ts";
import { TailResponse } from "./sp_common.ts";
import { TailRequest } from "./sp_common.ts";
import { NewAudienceRequest } from "./sp_internal.ts";
import { DeleteAudienceRequest } from "./sp_external.ts";
import { KVRequest } from "./sp_kv.ts";
import { MetricsRequest } from "./sp_internal.ts";
import { ResumePipelineRequest } from "./sp_external.ts";
import { PausePipelineRequest } from "./sp_external.ts";
import { DetachPipelineRequest } from "./sp_external.ts";
import { AttachPipelineRequest } from "./sp_external.ts";
import { UpdatePipelineRequest } from "./sp_external.ts";
import { DeletePipelineRequest } from "./sp_external.ts";
import { CreatePipelineRequest } from "./sp_external.ts";
import { DeregisterRequest } from "./sp_internal.ts";
import { RegisterRequest } from "./sp_internal.ts";
/**
 * Type used by `server` for broadcasting events to other nodes
 *
 * @generated from protobuf message protos.BusEvent
 */
export interface BusEvent {
    /**
     * @generated from protobuf field: string source = 1;
     */
    source: string;
    /**
     * @generated from protobuf oneof: event
     */
    event: {
        oneofKind: "registerRequest";
        /**
         * @generated from protobuf field: protos.RegisterRequest register_request = 100;
         */
        registerRequest: RegisterRequest;
    } | {
        oneofKind: "deregisterRequest";
        /**
         * @generated from protobuf field: protos.DeregisterRequest deregister_request = 101;
         */
        deregisterRequest: DeregisterRequest;
    } | {
        oneofKind: "createPipelineRequest";
        /**
         * @generated from protobuf field: protos.CreatePipelineRequest create_pipeline_request = 102;
         */
        createPipelineRequest: CreatePipelineRequest;
    } | {
        oneofKind: "deletePipelineRequest";
        /**
         * @generated from protobuf field: protos.DeletePipelineRequest delete_pipeline_request = 103;
         */
        deletePipelineRequest: DeletePipelineRequest;
    } | {
        oneofKind: "updatePipelineRequest";
        /**
         * @generated from protobuf field: protos.UpdatePipelineRequest update_pipeline_request = 104;
         */
        updatePipelineRequest: UpdatePipelineRequest;
    } | {
        oneofKind: "attachPipelineRequest";
        /**
         * DEPRECATED (01.27.2024): Use SetPipelinesRequest instead
         *
         * @deprecated
         * @generated from protobuf field: protos.AttachPipelineRequest attach_pipeline_request = 105 [deprecated = true];
         */
        attachPipelineRequest: AttachPipelineRequest;
    } | {
        oneofKind: "detachPipelineRequest";
        /**
         * DEPRECATED (01.27.2024): Use SetPipelinesRequest instead
         *
         * @deprecated
         * @generated from protobuf field: protos.DetachPipelineRequest detach_pipeline_request = 106 [deprecated = true];
         */
        detachPipelineRequest: DetachPipelineRequest;
    } | {
        oneofKind: "pausePipelineRequest";
        /**
         * @generated from protobuf field: protos.PausePipelineRequest pause_pipeline_request = 107;
         */
        pausePipelineRequest: PausePipelineRequest;
    } | {
        oneofKind: "resumePipelineRequest";
        /**
         * @generated from protobuf field: protos.ResumePipelineRequest resume_pipeline_request = 108;
         */
        resumePipelineRequest: ResumePipelineRequest;
    } | {
        oneofKind: "metricsRequest";
        /**
         * @generated from protobuf field: protos.MetricsRequest metrics_request = 109;
         */
        metricsRequest: MetricsRequest;
    } | {
        oneofKind: "kvRequest";
        /**
         * @generated from protobuf field: protos.KVRequest kv_request = 110;
         */
        kvRequest: KVRequest;
    } | {
        oneofKind: "deleteAudienceRequest";
        /**
         * @generated from protobuf field: protos.DeleteAudienceRequest delete_audience_request = 111;
         */
        deleteAudienceRequest: DeleteAudienceRequest;
    } | {
        oneofKind: "newAudienceRequest";
        /**
         * @generated from protobuf field: protos.NewAudienceRequest new_audience_request = 112;
         */
        newAudienceRequest: NewAudienceRequest;
    } | {
        oneofKind: "tailRequest";
        /**
         * @generated from protobuf field: protos.TailRequest tail_request = 113;
         */
        tailRequest: TailRequest;
    } | {
        oneofKind: "tailResponse";
        /**
         * @generated from protobuf field: protos.TailResponse tail_response = 114;
         */
        tailResponse: TailResponse;
    } | {
        oneofKind: "setPipelinesRequest";
        /**
         * @generated from protobuf field: protos.SetPipelinesRequest set_pipelines_request = 115;
         */
        setPipelinesRequest: SetPipelinesRequest;
    } | {
        oneofKind: undefined;
    };
    /**
     * All gRPC metadata is stored in ctx; when request goes outside of gRPC
     * bounds, we will translate ctx metadata into this field.
     *
     * Example:
     * 1. Request comes into server via external gRPC to set new pipeline
     * 2. server has to send SetPipeline cmd to SDK via gRPC - it passes
     *    on original metadata in request.
     * 3. server has to broadcast SetPipeline cmd to other services via bus
     * 4. Since this is not a gRPC call, server translates ctx metadata to
     *    this field and includes it in the bus event.
     *
     * @generated from protobuf field: map<string, string> _metadata = 1000;
     */
    Metadata: {
        [key: string]: string;
    }; // protolint:disable:this FIELD_NAMES_LOWER_SNAKE_CASE
}
// @generated message type with reflection information, may provide speed optimized methods
class BusEvent$Type extends MessageType<BusEvent> {
    constructor() {
        super("protos.BusEvent", [
            { no: 1, name: "source", kind: "scalar", T: 9 /*ScalarType.STRING*/ },
            { no: 100, name: "register_request", kind: "message", oneof: "event", T: () => RegisterRequest },
            { no: 101, name: "deregister_request", kind: "message", oneof: "event", T: () => DeregisterRequest },
            { no: 102, name: "create_pipeline_request", kind: "message", oneof: "event", T: () => CreatePipelineRequest },
            { no: 103, name: "delete_pipeline_request", kind: "message", oneof: "event", T: () => DeletePipelineRequest },
            { no: 104, name: "update_pipeline_request", kind: "message", oneof: "event", T: () => UpdatePipelineRequest },
            { no: 105, name: "attach_pipeline_request", kind: "message", oneof: "event", T: () => AttachPipelineRequest },
            { no: 106, name: "detach_pipeline_request", kind: "message", oneof: "event", T: () => DetachPipelineRequest },
            { no: 107, name: "pause_pipeline_request", kind: "message", oneof: "event", T: () => PausePipelineRequest },
            { no: 108, name: "resume_pipeline_request", kind: "message", oneof: "event", T: () => ResumePipelineRequest },
            { no: 109, name: "metrics_request", kind: "message", oneof: "event", T: () => MetricsRequest },
            { no: 110, name: "kv_request", kind: "message", oneof: "event", T: () => KVRequest },
            { no: 111, name: "delete_audience_request", kind: "message", oneof: "event", T: () => DeleteAudienceRequest },
            { no: 112, name: "new_audience_request", kind: "message", oneof: "event", T: () => NewAudienceRequest },
            { no: 113, name: "tail_request", kind: "message", oneof: "event", T: () => TailRequest },
            { no: 114, name: "tail_response", kind: "message", oneof: "event", T: () => TailResponse },
            { no: 115, name: "set_pipelines_request", kind: "message", oneof: "event", T: () => SetPipelinesRequest },
            { no: 1000, name: "_metadata", kind: "map", K: 9 /*ScalarType.STRING*/, V: { kind: "scalar", T: 9 /*ScalarType.STRING*/ } }
        ]);
    }
    create(value?: PartialMessage<BusEvent>): BusEvent {
        const message = { source: "", event: { oneofKind: undefined }, Metadata: {} };
        globalThis.Object.defineProperty(message, MESSAGE_TYPE, { enumerable: false, value: this });
        if (value !== undefined)
            reflectionMergePartial<BusEvent>(this, message, value);
        return message;
    }
    internalBinaryRead(reader: IBinaryReader, length: number, options: BinaryReadOptions, target?: BusEvent): BusEvent {
        let message = target ?? this.create(), end = reader.pos + length;
        while (reader.pos < end) {
            let [fieldNo, wireType] = reader.tag();
            switch (fieldNo) {
                case /* string source */ 1:
                    message.source = reader.string();
                    break;
                case /* protos.RegisterRequest register_request */ 100:
                    message.event = {
                        oneofKind: "registerRequest",
                        registerRequest: RegisterRequest.internalBinaryRead(reader, reader.uint32(), options, (message.event as any).registerRequest)
                    };
                    break;
                case /* protos.DeregisterRequest deregister_request */ 101:
                    message.event = {
                        oneofKind: "deregisterRequest",
                        deregisterRequest: DeregisterRequest.internalBinaryRead(reader, reader.uint32(), options, (message.event as any).deregisterRequest)
                    };
                    break;
                case /* protos.CreatePipelineRequest create_pipeline_request */ 102:
                    message.event = {
                        oneofKind: "createPipelineRequest",
                        createPipelineRequest: CreatePipelineRequest.internalBinaryRead(reader, reader.uint32(), options, (message.event as any).createPipelineRequest)
                    };
                    break;
                case /* protos.DeletePipelineRequest delete_pipeline_request */ 103:
                    message.event = {
                        oneofKind: "deletePipelineRequest",
                        deletePipelineRequest: DeletePipelineRequest.internalBinaryRead(reader, reader.uint32(), options, (message.event as any).deletePipelineRequest)
                    };
                    break;
                case /* protos.UpdatePipelineRequest update_pipeline_request */ 104:
                    message.event = {
                        oneofKind: "updatePipelineRequest",
                        updatePipelineRequest: UpdatePipelineRequest.internalBinaryRead(reader, reader.uint32(), options, (message.event as any).updatePipelineRequest)
                    };
                    break;
                case /* protos.AttachPipelineRequest attach_pipeline_request = 105 [deprecated = true];*/ 105:
                    message.event = {
                        oneofKind: "attachPipelineRequest",
                        attachPipelineRequest: AttachPipelineRequest.internalBinaryRead(reader, reader.uint32(), options, (message.event as any).attachPipelineRequest)
                    };
                    break;
                case /* protos.DetachPipelineRequest detach_pipeline_request = 106 [deprecated = true];*/ 106:
                    message.event = {
                        oneofKind: "detachPipelineRequest",
                        detachPipelineRequest: DetachPipelineRequest.internalBinaryRead(reader, reader.uint32(), options, (message.event as any).detachPipelineRequest)
                    };
                    break;
                case /* protos.PausePipelineRequest pause_pipeline_request */ 107:
                    message.event = {
                        oneofKind: "pausePipelineRequest",
                        pausePipelineRequest: PausePipelineRequest.internalBinaryRead(reader, reader.uint32(), options, (message.event as any).pausePipelineRequest)
                    };
                    break;
                case /* protos.ResumePipelineRequest resume_pipeline_request */ 108:
                    message.event = {
                        oneofKind: "resumePipelineRequest",
                        resumePipelineRequest: ResumePipelineRequest.internalBinaryRead(reader, reader.uint32(), options, (message.event as any).resumePipelineRequest)
                    };
                    break;
                case /* protos.MetricsRequest metrics_request */ 109:
                    message.event = {
                        oneofKind: "metricsRequest",
                        metricsRequest: MetricsRequest.internalBinaryRead(reader, reader.uint32(), options, (message.event as any).metricsRequest)
                    };
                    break;
                case /* protos.KVRequest kv_request */ 110:
                    message.event = {
                        oneofKind: "kvRequest",
                        kvRequest: KVRequest.internalBinaryRead(reader, reader.uint32(), options, (message.event as any).kvRequest)
                    };
                    break;
                case /* protos.DeleteAudienceRequest delete_audience_request */ 111:
                    message.event = {
                        oneofKind: "deleteAudienceRequest",
                        deleteAudienceRequest: DeleteAudienceRequest.internalBinaryRead(reader, reader.uint32(), options, (message.event as any).deleteAudienceRequest)
                    };
                    break;
                case /* protos.NewAudienceRequest new_audience_request */ 112:
                    message.event = {
                        oneofKind: "newAudienceRequest",
                        newAudienceRequest: NewAudienceRequest.internalBinaryRead(reader, reader.uint32(), options, (message.event as any).newAudienceRequest)
                    };
                    break;
                case /* protos.TailRequest tail_request */ 113:
                    message.event = {
                        oneofKind: "tailRequest",
                        tailRequest: TailRequest.internalBinaryRead(reader, reader.uint32(), options, (message.event as any).tailRequest)
                    };
                    break;
                case /* protos.TailResponse tail_response */ 114:
                    message.event = {
                        oneofKind: "tailResponse",
                        tailResponse: TailResponse.internalBinaryRead(reader, reader.uint32(), options, (message.event as any).tailResponse)
                    };
                    break;
                case /* protos.SetPipelinesRequest set_pipelines_request */ 115:
                    message.event = {
                        oneofKind: "setPipelinesRequest",
                        setPipelinesRequest: SetPipelinesRequest.internalBinaryRead(reader, reader.uint32(), options, (message.event as any).setPipelinesRequest)
                    };
                    break;
                case /* map<string, string> _metadata */ 1000:
                    this.binaryReadMap1000(message.Metadata, reader, options);
                    break;
                default:
                    let u = options.readUnknownField;
                    if (u === "throw")
                        throw new globalThis.Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`);
                    let d = reader.skip(wireType);
                    if (u !== false)
                        (u === true ? UnknownFieldHandler.onRead : u)(this.typeName, message, fieldNo, wireType, d);
            }
        }
        return message;
    }
    private binaryReadMap1000(map: BusEvent["Metadata"], reader: IBinaryReader, options: BinaryReadOptions): void {
        let len = reader.uint32(), end = reader.pos + len, key: keyof BusEvent["Metadata"] | undefined, val: BusEvent["Metadata"][any] | undefined;
        while (reader.pos < end) {
            let [fieldNo, wireType] = reader.tag();
            switch (fieldNo) {
                case 1:
                    key = reader.string();
                    break;
                case 2:
                    val = reader.string();
                    break;
                default: throw new globalThis.Error("unknown map entry field for field protos.BusEvent._metadata");
            }
        }
        map[key ?? ""] = val ?? "";
    }
    internalBinaryWrite(message: BusEvent, writer: IBinaryWriter, options: BinaryWriteOptions): IBinaryWriter {
        /* string source = 1; */
        if (message.source !== "")
            writer.tag(1, WireType.LengthDelimited).string(message.source);
        /* protos.RegisterRequest register_request = 100; */
        if (message.event.oneofKind === "registerRequest")
            RegisterRequest.internalBinaryWrite(message.event.registerRequest, writer.tag(100, WireType.LengthDelimited).fork(), options).join();
        /* protos.DeregisterRequest deregister_request = 101; */
        if (message.event.oneofKind === "deregisterRequest")
            DeregisterRequest.internalBinaryWrite(message.event.deregisterRequest, writer.tag(101, WireType.LengthDelimited).fork(), options).join();
        /* protos.CreatePipelineRequest create_pipeline_request = 102; */
        if (message.event.oneofKind === "createPipelineRequest")
            CreatePipelineRequest.internalBinaryWrite(message.event.createPipelineRequest, writer.tag(102, WireType.LengthDelimited).fork(), options).join();
        /* protos.DeletePipelineRequest delete_pipeline_request = 103; */
        if (message.event.oneofKind === "deletePipelineRequest")
            DeletePipelineRequest.internalBinaryWrite(message.event.deletePipelineRequest, writer.tag(103, WireType.LengthDelimited).fork(), options).join();
        /* protos.UpdatePipelineRequest update_pipeline_request = 104; */
        if (message.event.oneofKind === "updatePipelineRequest")
            UpdatePipelineRequest.internalBinaryWrite(message.event.updatePipelineRequest, writer.tag(104, WireType.LengthDelimited).fork(), options).join();
        /* protos.AttachPipelineRequest attach_pipeline_request = 105 [deprecated = true]; */
        if (message.event.oneofKind === "attachPipelineRequest")
            AttachPipelineRequest.internalBinaryWrite(message.event.attachPipelineRequest, writer.tag(105, WireType.LengthDelimited).fork(), options).join();
        /* protos.DetachPipelineRequest detach_pipeline_request = 106 [deprecated = true]; */
        if (message.event.oneofKind === "detachPipelineRequest")
            DetachPipelineRequest.internalBinaryWrite(message.event.detachPipelineRequest, writer.tag(106, WireType.LengthDelimited).fork(), options).join();
        /* protos.PausePipelineRequest pause_pipeline_request = 107; */
        if (message.event.oneofKind === "pausePipelineRequest")
            PausePipelineRequest.internalBinaryWrite(message.event.pausePipelineRequest, writer.tag(107, WireType.LengthDelimited).fork(), options).join();
        /* protos.ResumePipelineRequest resume_pipeline_request = 108; */
        if (message.event.oneofKind === "resumePipelineRequest")
            ResumePipelineRequest.internalBinaryWrite(message.event.resumePipelineRequest, writer.tag(108, WireType.LengthDelimited).fork(), options).join();
        /* protos.MetricsRequest metrics_request = 109; */
        if (message.event.oneofKind === "metricsRequest")
            MetricsRequest.internalBinaryWrite(message.event.metricsRequest, writer.tag(109, WireType.LengthDelimited).fork(), options).join();
        /* protos.KVRequest kv_request = 110; */
        if (message.event.oneofKind === "kvRequest")
            KVRequest.internalBinaryWrite(message.event.kvRequest, writer.tag(110, WireType.LengthDelimited).fork(), options).join();
        /* protos.DeleteAudienceRequest delete_audience_request = 111; */
        if (message.event.oneofKind === "deleteAudienceRequest")
            DeleteAudienceRequest.internalBinaryWrite(message.event.deleteAudienceRequest, writer.tag(111, WireType.LengthDelimited).fork(), options).join();
        /* protos.NewAudienceRequest new_audience_request = 112; */
        if (message.event.oneofKind === "newAudienceRequest")
            NewAudienceRequest.internalBinaryWrite(message.event.newAudienceRequest, writer.tag(112, WireType.LengthDelimited).fork(), options).join();
        /* protos.TailRequest tail_request = 113; */
        if (message.event.oneofKind === "tailRequest")
            TailRequest.internalBinaryWrite(message.event.tailRequest, writer.tag(113, WireType.LengthDelimited).fork(), options).join();
        /* protos.TailResponse tail_response = 114; */
        if (message.event.oneofKind === "tailResponse")
            TailResponse.internalBinaryWrite(message.event.tailResponse, writer.tag(114, WireType.LengthDelimited).fork(), options).join();
        /* protos.SetPipelinesRequest set_pipelines_request = 115; */
        if (message.event.oneofKind === "setPipelinesRequest")
            SetPipelinesRequest.internalBinaryWrite(message.event.setPipelinesRequest, writer.tag(115, WireType.LengthDelimited).fork(), options).join();
        /* map<string, string> _metadata = 1000; */
        for (let k of Object.keys(message.Metadata))
            writer.tag(1000, WireType.LengthDelimited).fork().tag(1, WireType.LengthDelimited).string(k).tag(2, WireType.LengthDelimited).string(message.Metadata[k]).join();
        let u = options.writeUnknownFields;
        if (u !== false)
            (u == true ? UnknownFieldHandler.onWrite : u)(this.typeName, message, writer);
        return writer;
    }
}
/**
 * @generated MessageType for protobuf message protos.BusEvent
 */
export const BusEvent = new BusEvent$Type();
